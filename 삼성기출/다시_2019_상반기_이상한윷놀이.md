# [프로그래머스] 이상한윷놀이

1. 풀다 gpt 근데 생각해봐야함  할 수 있음 충분히 해내야함

```protobuf
   board = [[[] for _ in range(n)] for _ in range(n)]
# 입력받기 이럼!!! 
dic=defaultdict(list)
for i in range(k):
    x,y,d=map(int,input().split())
    x-=1
    y-=1
    pieces.append([x,y,d])
    board[x][y].append(i) # 이런식으로 인덱스 얻음!!!! 
나중에 추가된거는 extend 하면 됨!!!! 
   
   cell=board[r][c]
        idx_in_stack=cell.index(i) # i 스택 내 위치
        moving=cell[idx_in_stack:] # i 위의 말들 포함 이동 그룹
        board[r][c]=cell[:idx_in_stack] # 남는 말  (이동안하는 말! )
```

```protobuf
from collections import deque
from collections import defaultdict
n,k=map(int,input().split())
# 1부터 오른쪽 왼쪽 위 아래
dx=[0,0,0,-1,1]
dy=[0,1,-1,0,0]

arr=[]

# 0은 하얀색 1은 빨간 2는 파란
for i in range(n):
    arr.append(list(map(int,input().split())))

pieces = []  # 말 i의 [r, c, d]
board = [[[] for _ in range(n)] for _ in range(n)]

dic=defaultdict(list)
for i in range(k):
    x,y,d=map(int,input().split())
    x-=1
    y-=1
    pieces.append([x,y,d])
    board[x][y].append(i)

def changeDir(d):
    if d == 1:
        d = 2
    elif d == 2:
        d = 1
    elif d == 3:
        d = 4
    else:
        d = 3
    return d
ck=False
for turn in range(1,1001):
    for i in range(k):
        r,c,d=pieces[i]
        cell=board[r][c]
        idx_in_stack=cell.index(i) # i 스택 내 위치
        moving=cell[idx_in_stack:] # i 위의 말들 포함 이동 그룹
        board[r][c]=cell[:idx_in_stack] # 남는 말  (이동안하는 말! )

        nr,nc=r+dx[d],c+dy[d]
        # 빨간 =1   파란 =2
        if not (0<=nr<n and 0<=nc<n) or arr[nr][nc]==2:
            d=changeDir(d)
            pieces[i][2]=d
            nr,nc=r+dx[d],c+dy[d]
            if not (0 <= nr < n and 0 <= nc < n) or arr[nr][nc] == 2:
                board[r][c].extend(moving) # 이동 못함
                continue

        if arr[nr][nc]==1:
            moving.reverse()

        for p in moving:
            pieces[p][0],pieces[p][1]=nr,nc
        board[nr][nc].extend(moving)

        if len(board[nr][nc]) >=4:
            print(turn)
            ck=True
            break
    if ck:
        break
else:
    print(-1)

```